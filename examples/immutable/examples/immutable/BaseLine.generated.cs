//----------------------
// <auto-generated>
//     Automatically generated by Model#
// </auto-generated>
//----------------------
// DO NOT EDIT THIS FILE

using System.CodeDom.Compiler;
using System.Collections.ObjectModel;
using System.Collections.Generic;
using System.Runtime.Serialization;
using System.Diagnostics;
using System;

namespace examples.immutable
{

	[DataContract(Name = "Line")]
	[DebuggerDisplay("Line[P1={P1} P2={P2} Border={Border.Count}items]")]
	[GeneratedCode("Model#", "0.2.0.0")]
	public abstract class BaseLine : ICloneable
	{
		[DataMember(Name = "P1", Order = 0, IsRequired = false)]
		public readonly Point P1;
		
		[DataMember(Name = "P2", Order = 1, IsRequired = false)]
		public readonly Point P2;
		
		[DataMember(Name = "Dir", Order = 2, IsRequired = true)]
		public readonly Point Dir;
		
		[DataMember(Name = "Border", Order = 3, IsRequired = false)]
		public readonly ReadOnlyCollection<Point> Border;
		
		protected BaseLine(Point p1, Point p2, Point dir, IEnumerable<Point> border)
		{
			P1 = p1;
			P2 = p2;
			Dir = dir;
			Border = new ReadOnlyCollection<Point>(new List<Point>(border));
		}
		
		protected BaseLine(BaseLine other)
		{
			this.P1 = other.P1;
			this.P2 = other.P2;
			this.Dir = new Point(other.Dir);
			var border = new List<Point>();
			border.AddRange(other.Border);
			Border = new ReadOnlyCollection<Point>(border);
		}
		
		public virtual Line WithP1(Point p1)
		{
			return new Line(p1, P2, Dir, Border);
		}
		
		public virtual Line WithP2(Point p2)
		{
			return new Line(P1, p2, Dir, Border);
		}
		
		#region Clone
		
#pragma warning disable 109
		public new Line Clone()
#pragma warning restore 109
		{
			return (Line) ((ICloneable) this).Clone();
		}
		
		object ICloneable.Clone()
		{
			return new Line((Line) this);
		}
		
		#endregion Clone
	}
	
}
